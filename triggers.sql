show triggers;
+-----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+-----------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+
| Trigger               | Event  | Table    | Statement


                                    | Timing | Created                | sql_mode

        | Definer        | character_set_client | collation_connection | Database Collation |
+-----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+-----------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+
| before_payment_insert | INSERT | payments | BEGIN
  IF NEW.payment_id IS NULL OR NEW.payment_id = '' THEN
    SET NEW.payment_id = (
      SELECT CONCAT('PY', LPAD(
        IFNULL(
          MAX(CAST(SUBSTRING(payment_id, 3) AS UNSIGNED)), 0
        ) + 1, 5, '0'))
      FROM payments
    );
  END IF;
END | BEFORE | 2025-06-23 10:12:34.04 | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION | root@localhost | cp850                | cp850_general_ci     | utf8mb4_0900_ai_ci |
| before_receipt_insert | INSERT | receipts | BEGIN
  IF NEW.receipt_id IS NULL OR NEW.receipt_id = '' THEN
    SET NEW.receipt_id = (
      SELECT CONCAT('RV', LPAD(
        IFNULL(
          MAX(CAST(SUBSTRING(receipt_id, 3) AS UNSIGNED)), 0
        ) + 1, 5, '0'))
      FROM receipts
    );
  END IF;
END | BEFORE | 2025-06-23 10:12:53.64 | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION | root@localhost | cp850                | cp850_general_ci     | utf8mb4_0900_ai_ci |
+-----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+-----------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+
2 rows in set (0.01 sec)

mysql>